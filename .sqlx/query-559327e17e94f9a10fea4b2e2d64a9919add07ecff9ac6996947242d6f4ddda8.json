{
  "db_name": "SQLite",
  "query": "\n            WITH stale_sessions AS (\n                SELECT s.id\n                FROM session s\n                LEFT JOIN session_state ss ON s.id = ss.session_id\n                WHERE s.deleted_at IS NULL\n                AND s.created_at < datetime('now', '-5 seconds')\n                GROUP BY s.id\n                HAVING MAX(ss.created_at) < datetime('now', '-5 seconds')\n                OR MAX(ss.created_at) IS NULL\n            )\n            UPDATE session\n            SET deleted_at = CURRENT_TIMESTAMP\n            WHERE id IN (SELECT id FROM stale_sessions)\n            RETURNING id\n            ",
  "describe": {
    "columns": [
      {
        "name": "id",
        "ordinal": 0,
        "type_info": "Integer"
      }
    ],
    "parameters": {
      "Right": 0
    },
    "nullable": [
      false
    ]
  },
  "hash": "559327e17e94f9a10fea4b2e2d64a9919add07ecff9ac6996947242d6f4ddda8"
}
