{
  "db_name": "SQLite",
  "query": "\n            WITH stale_sessions AS (\n                SELECT s.id\n                FROM session s\n                LEFT JOIN session_state ss ON s.id = ss.session_id\n                WHERE s.deleted_at IS NULL\n                AND s.created_at < strftime('%s', 'now', '-5 seconds') * 1000\n                GROUP BY s.id\n                HAVING MAX(ss.created_at) < strftime('%s', 'now', '-5 seconds') * 1000\n                OR MAX(ss.created_at) IS NULL\n            )\n            UPDATE session\n            SET deleted_at = unixepoch('subsec') * 1000\n            WHERE id IN (SELECT id FROM stale_sessions)\n            RETURNING id\n            ",
  "describe": {
    "columns": [
      {
        "name": "id",
        "ordinal": 0,
        "type_info": "Integer"
      }
    ],
    "parameters": {
      "Right": 0
    },
    "nullable": [
      false
    ]
  },
  "hash": "37a448dc741a64c09743dc618c28dc3234a444684990abb351bebfdbb603e028"
}
